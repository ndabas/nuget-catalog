{
  "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json",
  "@type": [
    "PackageDetails",
    "catalog:Permalink"
  ],
  "authors": "Chris F Carroll",
  "catalog:commitId": "0e534482-41d7-40ca-8d38-4f1cece00872",
  "catalog:commitTimeStamp": "2018-12-13T06:40:29.1699948Z",
  "contentFiles": "",
  "copyright": "(c) Chris F. Carroll, 2013-2018",
  "created": "2018-05-20T00:21:43.84Z",
  "description": "*TestBase* gives you a flying start with \n- fluent assertions that are easy to extend\n- sharp error messages\n- tools to help you test with “heavyweight” dependencies on \n  - AspNetCore.Mvc, AspNet.Mvc or WebApi Contexts\n    - HttpClient\n    - Ado.Net\n    - Streams & Logging\n\nTestBase.Mvc is renamed to https://www.nuget.org/packages/TestBase.Mvc.AspNetCore\n\nUse https://www.nuget.org/packages/TestBase-Mvc for Mvc 4.\n\nChainable fluent assertions get you to the point concisely:\n```\n- ShouldEqualByValue() & ShouldEqualByValueExceptFor() \n  work with all kinds of object and collections, and \n  report what differed.\n- string.ShouldMatch().ShouldEqualIgnoringCase(), ...\n- numeric.ShouldBeBetween().ShouldEqualWithTolerance(), ...\n- IEnumerable.ShouldAll().ShouldContain().ShouldNotContain(), ...\n\n```\n\nTestBase.Mvc.AspNetCore & TestBase-Mvc\n------------\n\n```\nControllerUnderTest.Action()\n  .ShouldbeViewResult()\n  .ShouldHaveModel<TModel>()\n    .Payload\n    .ShouldEqualByValueExceptFor(new {Id=1, Payload1=expected}, ignoreFields);\n\nControllerUnderTest.Action()\n  .ShouldBeRedirectToRouteResult()\n  .ShouldHaveRouteValue(\"\"expectedKey\"\", [Optional] \"\"expectedValue\"\");\n\nShouldHaveViewDataContaining(), ShouldBeJsonResult() etc.\n```\nQuickly test AspNetCore controllers with zero setup using `WithControllerContext()` :\n\n```\n[Test]\npublic void ControllerUrlAndOtherPropertiesShouldWorkAsExpected__GivenControllerContext()\n{\n    var uut = new FakeController().WithControllerContext();\n    uut.Url.Action(\"\"a\"\", \"\"b\"\").ShouldEqual(\"\"/b/a\"\");\n    uut.ControllerContext.ShouldNotBeNull();\n    uut.HttpContext.ShouldBe(uut.ControllerContext.HttpContext);\n    uut.ControllerContext.HttpContext.Request.ShouldNotBeNull();\n    uut.Request.ShouldNotBeNull();\n    uut.Response.ShouldNotBeNull();\n    uut.Url.ShouldNotBeNull();\n    uut.ViewData.ShouldNotBeNull();\n    uut.TempData.ShouldNotBeNull();\n\n    uut.MyAction(param)\n        .ShouldBeViewResult()\n        .ShouldHaveModel<YouSaidViewModel>()\n        .YouSaid.ShouldBe(param);\n}\n\n[Test]\npublic void ShouldBeViewWithModel_And_UrlHelper_ShouldWork()\n{\n    var controllerUnderTest = \n        new AController()\n            .WithControllerContext(virtualPathTemplate:\"\"/{Action}/Before/{Controller}\"\");\n\n    var result= controllerUnderTest\n            .Action(\"\"SomeController\"\",\"\"SomeAction\"\")\n            .ShouldBeViewWithModel<AClass>(\"\"ViewName\"\");\n                .FooterLink\n                .ShouldBe(\"\"/SomeAction/Before/SomeController\"\");\n}\n```\n\n... Or test against complex application dependencies using `HostedMvcTestFixtureBase` and specify your `Startup` class:\n\n```\n[TestFixture]\npublic class Tests : HostedMvcTestFixtureBase\n{\n\n    [TestCase(\"\"/dummy/action?id={id}\"\")]\n    public async Task Get_Should_ReturnActionResult(string url)\n    {\n        var id=Guid.NewGuid();\n        var httpClient=GivenClientForRunningServer<Startup>();\n        GivenRequestHeaders(httpClient, \"\"CustomHeader\"\", \"\"HeaderValue1\"\");\n            \n        var result= await httpClient.GetAsync(url.Formatz(new {id}));\n\n        result\n            .ShouldBe_200Ok()\n            .Content.ReadAsStringAsync().Result\n            .ShouldBe(\"\"Content\"\");\n    }\n\n    [TestCase(\"\"/dummy\"\")]\n    public async Task Put_Should_ReturnA(string url)\n    {\n        var something= new Fixture().Create<Something>();\n        var jsonBody= new StringContent(something.ToJSon(), Encoding.UTF8, \"\"application/json\"\");\n        var httpClient=GivenClientForRunningServer<Startup>();\n        GivenRequestHeaders(httpClient, \"\"CustomHeader\"\", \"\"HeaderValue1\"\");\n\n        var result = await httpClient.PutAsync(url, jsonBody);\n\n        result.ShouldBe_202Accepted();\n        DummyController.Putted.ShouldEqualByValue( something );\n    }\n}\n```\nSee also\n - TestBase\n - TestBase-Mvc for Mvc4\n - TestBase.HttpClient.Fake\n - TestBase.AdoNet\n - Serilog.Sinks.ListOfString \n - Extensions.Logging.ListOfString",
  "id": "TestBase.Mvc",
  "isPrerelease": false,
  "lastEdited": "2018-12-13T06:40:10.61Z",
  "listed": true,
  "packageHash": "5+QO5PsNhKhhc7jGHuBSi2n2okn8KQvWm1mBht1C1StTuqLOvsanWrtn5MGzg4nrnatQhMjKXLHC+jv/mKQ3MQ==",
  "packageHashAlgorithm": "SHA512",
  "packageSize": 16884,
  "projectUrl": "http://github.com/chrisfcarroll/TestBase",
  "published": "2018-05-20T00:21:43.84Z",
  "releaseNotes": "ChangeLog\n---------\n4.1.2.0 TestBase.Mvc.AspNetCore provides WithControllerContext()\n4.0.7.0 Added TestBase.FakeHttpClient. Added Should(predicate,...) as synonym of ShouldHave(predicate,...)\n4.0.6.2 TestBase.Mvc can run controller actions on aspnetcore using controller.WithControllerContext()\n4.0.5.2 TestBase.Mvc partially ported to netstandard20 / AspNetCore\n4.0.4.1 StreamShoulds\n4.0.3.0 StringListLogger as MS Logger and as Serilogger\n4.0.1.0 Port to NetCore\n3.0.3.0 Improves FakeDb setup\n3.0.x.0 adds and/or corrects missing Shoulds()\n2.0.5.0 adds some intellisense and FakeDbConnection.Verify(..., message,args) overload",
  "repository": "",
  "requireLicenseAcceptance": false,
  "title": "TestBase – Rich, fluent assertions and tools for testing with heavyweight dependencies: AspNetCore, AdoNet, HttpClient, AspNet.Mvc, Streams, Logging",
  "verbatimVersion": "4.1.2",
  "version": "4.1.2",
  "dependencyGroups": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#dependencygroup/.netstandard2.0",
      "@type": "PackageDependencyGroup",
      "dependencies": [
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#dependencygroup/.netstandard2.0/testbase.mvc.aspnetcore",
          "@type": "PackageDependency",
          "id": "TestBase.Mvc.AspNetCore",
          "range": "[4.1.2, )"
        }
      ],
      "targetFramework": ".NETStandard2.0"
    }
  ],
  "packageEntries": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#TestBase.Mvc.nuspec",
      "@type": "PackageEntry",
      "compressedLength": 2324,
      "fullName": "TestBase.Mvc.nuspec",
      "length": 5938,
      "name": "TestBase.Mvc.nuspec"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#lib/netstandard2.0/TestBase.Mvc.dll",
      "@type": "PackageEntry",
      "compressedLength": 1389,
      "fullName": "lib/netstandard2.0/TestBase.Mvc.dll",
      "length": 3584,
      "name": "TestBase.Mvc.dll"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#content/ReadMe.txt",
      "@type": "PackageEntry",
      "compressedLength": 96,
      "fullName": "content/ReadMe.txt",
      "length": 104,
      "name": "ReadMe.txt"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#contentFiles/any/netstandard2.0/ReadMe.txt",
      "@type": "PackageEntry",
      "compressedLength": 96,
      "fullName": "contentFiles/any/netstandard2.0/ReadMe.txt",
      "length": 104,
      "name": "ReadMe.txt"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.13.06.40.29/testbase.mvc.4.1.2.json#.signature.p7s",
      "@type": "PackageEntry",
      "compressedLength": 9469,
      "fullName": ".signature.p7s",
      "length": 9469,
      "name": ".signature.p7s"
    }
  ],
  "tags": [
    "nunit",
    "test",
    "unittest",
    "tdd",
    "fluent",
    "assertions",
    "mock",
    "mvc",
    "aspnetmvc",
    "aspnetcore",
    "aspnetcoremvc"
  ],
  "@context": {
    "@vocab": "http://schema.nuget.org/schema#",
    "catalog": "http://schema.nuget.org/catalog#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dependencies": {
      "@id": "dependency",
      "@container": "@set"
    },
    "dependencyGroups": {
      "@id": "dependencyGroup",
      "@container": "@set"
    },
    "packageEntries": {
      "@id": "packageEntry",
      "@container": "@set"
    },
    "supportedFrameworks": {
      "@id": "supportedFramework",
      "@container": "@set"
    },
    "tags": {
      "@id": "tag",
      "@container": "@set"
    },
    "published": {
      "@type": "xsd:dateTime"
    },
    "created": {
      "@type": "xsd:dateTime"
    },
    "lastEdited": {
      "@type": "xsd:dateTime"
    },
    "catalog:commitTimeStamp": {
      "@type": "xsd:dateTime"
    }
  }
}