{
  "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json",
  "@type": [
    "PackageDetails",
    "catalog:Permalink"
  ],
  "authors": "Thomas.James",
  "catalog:commitId": "86718565-e83f-4200-8084-5888d60df189",
  "catalog:commitTimeStamp": "2018-02-22T01:12:29.9989193Z",
  "created": "2016-04-19T11:58:34.953Z",
  "description": "TPJ.Logging Class Library",
  "id": "TPJ.Logging",
  "isPrerelease": false,
  "lastEdited": "2018-02-22T01:11:05.607Z",
  "listed": false,
  "packageHash": "av4B0zuLbQE7DZWv+z7JxVbF4C3yplCY7riGpLX4PSKlvlQo6vSuJwhly1M4NQJCCrQSqq7HQwn9KGfbL2KLmQ==",
  "packageHashAlgorithm": "SHA512",
  "packageSize": 21230,
  "published": "1900-01-01T00:00:00Z",
  "releaseNotes": "ASP.Net Core Website Set up \n\nCreate appsettings.json file and add the following \n\n\"LogSettings\": { \n    \"ApplicationName\": \"\", \n    \"ErrorLogType\": \"\", \n    \"LogEnvironment\": \"\", \n    \"LogFileDirectory\": \"\", \n    \"SmtpClient\": \"\", \n    \"SmtpUser\": \"\", \n    \"SmtpPassword\": \"\", \n    \"EmailFrom\": \"\", \n    \"ErrorEmails\": \"\" \n  } \n\nApplicationName - Name of the application used on the log file names and e-mails \n\nErrorLogType - There are three types of error log types \n              1) Email - Errors are sent via e-mail only (as per rest of the config settings) \n              2) LogFile - Errors are logged in a txt file (named - {Application Name} Error Log.txt) \n              3) EmailLogFile - Does both Email and LogFile \n\nLogEnvironment - There are three environment types. logging will be done on all logs marked at or below the log environment type E.G logs marked at \"test\" will log when the config is set to development and test but NOT live \n              1) Development \n              2) Test \n              3) Live \n\nLogFileDirectory - the location at which the log / error file will be placed \n\nSmtpClient - SMTP server which e-mails will be sent from \n\nSmtpUser - (Not required) send e-mail using the given user name and password \nSmtpPassword - (Not required) send e-mail using the given user name and password \n\nEmailFrom - E-mails are sent from this account \n\nErrorEmails - List of all e-mail address which error e-mails will be sent to split using ; e.g test@test.com;test2@test.com;test3@test.com \n\n\n\nFor Websites - \n\nOpen StartUp.cs file and go to ConfigureServices \n\nAdd the following \n\nservices.Configure<LoggerProperties>(options => \n{ \n      options.ApplicationName = Configuration[\"LogSettings:ApplicationName\"]; \n      options.SmtpClient = Configuration[\"LogSettings:SmtpClient\"]; \n      options.EmailFrom = Configuration[\"LogSettings:EmailFrom\"]; \n      options.ErrorEmailList = Configuration[\"LogSettings:ErrorEmails\"].Split(';').ToList(); \n      options.LogFileDirectory = Configuration[\"LogSettings:LogFileDirectory\"]; \n      options.ErrorLogType = Helper.GetLogType(Configuration[\"LogSettings:ErrorLogType\"]); \n      options.LogEnvironment = Helper.GetLogLevelEnvironment(Configuration[\"LogSettings:LogEnvironment\"]); \n}); \n\nservices.AddTransient<TPJ.Logging.Interfaces.ILogger, Logger>(); \n\nThen using DI within asp.net core you can call ILogger like so \n\nprivate readonly TPJ.Logging.Interfaces.ILogger _logger; \n\npublic HomeController(TPJ.Logging.Interfaces.ILogger logger) \n{ \n    _logger = logger; \n} \n\nThen within an IActionResult you might have this \n\npublic IActionResult About() \n{ \n  try \n  { \n    _logger.InformationLog(\"About Page Loaded\", Enums.LogEnvironment.Development, true); \n\n    return View(); \n\n  } \n  catch (Exception e) \n  { \n    _logger.Error(System.Reflection.MethodBase.GetCurrentMethod(), e, Enums.LogEnvironment.Live, true); \n\n    return RedirectToAction(nameof(Error)); \n  } \n} \n\nHere a log will be made each time the \"about\" page is requested but only logged when in development. Where as if it errors a error log will always be made. Both methods will fire and forget to improve loading times for the pages. \n\n\nASP.Net Core Console Application \n\nThis is how I do it. This may change and I'm sure there are different ways to do this. This is also just to get the logger to work. You may need to change things to get other packages to load. \n\nAdd to the top of the program class \n\npublic static ILogger _logger; \n\nThen add set up method \n\nprivate static void SetUp() \n{ \n    var builder = new ConfigurationBuilder().AddJsonFile(\"appsettings.json\"); \n\n    _logger = new Logger(new LoggerProperties(builder.Build())); \n} \n\nThen call the \"SetUp\" method from the Main method \n\npublic static void Main(string[] args) \n{ \n    SetUp(); \n} \n\nThen you can call the logger like so \n\npublic static void Main(string[] args) \n{ \n    SetUp(); \n\n    _logger.InformationLog(\"Test Log\", Enums.LogEnvironment.Development, false); \n\n    _logger.Error(System.Reflection.MethodBase.GetCurrentMethod(), new Exception(\"Test\"), Enums.LogEnvironment.Test, false); \n} \n\nWith console application do not \"fire and forget\" as if the application ends and the log is not completed it will not log.",
  "requireLicenseAcceptance": false,
  "summary": "Simple Logging for asp.net core",
  "title": "TPJ Logging",
  "verbatimVersion": "1.1.1",
  "version": "1.1.1",
  "dependencyGroups": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#dependencygroup/.netframework4.5.1",
      "@type": "PackageDependencyGroup",
      "dependencies": [
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#dependencygroup/.netframework4.5.1/microsoft.extensions.optionsmodel",
          "@type": "PackageDependency",
          "id": "Microsoft.Extensions.OptionsModel",
          "range": "[1.0.0-rc1-final, )"
        }
      ],
      "targetFramework": ".NETFramework4.5.1"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#dependencygroup/dnx4.5.1",
      "@type": "PackageDependencyGroup",
      "dependencies": [
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#dependencygroup/dnx4.5.1/microsoft.extensions.optionsmodel",
          "@type": "PackageDependency",
          "id": "Microsoft.Extensions.OptionsModel",
          "range": "[1.0.0-rc1-final, )"
        }
      ],
      "targetFramework": "DNX4.5.1"
    }
  ],
  "frameworkAssemblyGroup": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#frameworkassemblygroup/.netframework4.5.1",
      "assembly": [
        "mscorlib",
        "System",
        "System.Core",
        "Microsoft.CSharp"
      ],
      "targetFramework": ".NETFramework4.5.1"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#frameworkassemblygroup/dnx4.5.1",
      "assembly": [
        "mscorlib",
        "System",
        "System.Core",
        "Microsoft.CSharp"
      ],
      "targetFramework": "DNX4.5.1"
    }
  ],
  "packageEntries": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#TPJ.Logging.nuspec",
      "@type": "PackageEntry",
      "compressedLength": 2027,
      "fullName": "TPJ.Logging.nuspec",
      "length": 5980,
      "name": "TPJ.Logging.nuspec"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#lib/net451/TPJ.Logging.dll",
      "@type": "PackageEntry",
      "compressedLength": 7961,
      "fullName": "lib/net451/TPJ.Logging.dll",
      "length": 28672,
      "name": "TPJ.Logging.dll"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#lib/net451/TPJ.Logging.xml",
      "@type": "PackageEntry",
      "compressedLength": 1017,
      "fullName": "lib/net451/TPJ.Logging.xml",
      "length": 9930,
      "name": "TPJ.Logging.xml"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#lib/dnx451/TPJ.Logging.dll",
      "@type": "PackageEntry",
      "compressedLength": 7958,
      "fullName": "lib/dnx451/TPJ.Logging.dll",
      "length": 28672,
      "name": "TPJ.Logging.dll"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.02.22.01.12.29/tpj.logging.1.1.1.json#lib/dnx451/TPJ.Logging.xml",
      "@type": "PackageEntry",
      "compressedLength": 1017,
      "fullName": "lib/dnx451/TPJ.Logging.xml",
      "length": 9930,
      "name": "TPJ.Logging.xml"
    }
  ],
  "@context": {
    "@vocab": "http://schema.nuget.org/schema#",
    "catalog": "http://schema.nuget.org/catalog#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dependencies": {
      "@id": "dependency",
      "@container": "@set"
    },
    "dependencyGroups": {
      "@id": "dependencyGroup",
      "@container": "@set"
    },
    "packageEntries": {
      "@id": "packageEntry",
      "@container": "@set"
    },
    "supportedFrameworks": {
      "@id": "supportedFramework",
      "@container": "@set"
    },
    "tags": {
      "@id": "tag",
      "@container": "@set"
    },
    "published": {
      "@type": "xsd:dateTime"
    },
    "created": {
      "@type": "xsd:dateTime"
    },
    "lastEdited": {
      "@type": "xsd:dateTime"
    },
    "catalog:commitTimeStamp": {
      "@type": "xsd:dateTime"
    }
  }
}