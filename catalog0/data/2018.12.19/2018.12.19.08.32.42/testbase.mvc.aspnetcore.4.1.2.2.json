{
  "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json",
  "@type": [
    "PackageDetails",
    "catalog:Permalink"
  ],
  "authors": "Chris F Carroll",
  "catalog:commitId": "372fa1ae-2dac-4cad-b04c-d43951f978aa",
  "catalog:commitTimeStamp": "2018-12-19T08:32:42.9039244Z",
  "copyright": "(c) Chris F. Carroll, 2013-2018",
  "created": "2018-05-26T12:01:26.51Z",
  "description": "*TestBase* gives you a flying start with \n- fluent assertions that are easy to extend\n- sharp error messages\n- tools to help you test with “heavyweight” dependencies on \n    - AspNetCore.Mvc, AspNet.Mvc or WebApi Contexts\n\t- HttpClient\n\t- Ado.Net\n\t- Streams & Logging\n\nChainable fluent assertions get you to the point concisely:\n```\nControllerUnderTest.Action()\n  .ShouldbeViewResult()\n  .ShouldHaveModel<TModel>()\n    .ShouldEqualByValue(expected, exceptForTheseFields);\n    .Reference\n      .ShouldMatchIgnoringCase(\"I expected this\");\n  \nControllerUnderTest.Action()\n  .ShouldBeRedirectToRouteResult()\n  .ShouldHaveRouteValue(\"\"expectedKey\"\", [Optional] \"\"expectedValue\"\");\n\nShouldHaveViewDataContaining(), ShouldBeJsonResult() etc.\n```\n\nQuickly test AspNetCore controllers with zero setup using `controllerUnderTest.WithControllerContext()` :\n\n```\n[TestFixture]\npublic class WhenTestingControllersUsingFakeControllerContext\n{\n   [Test]\n    public void ControllerUrlAndOtherPropertiesShouldWorkAsExpected__GivenControllerContext()\n    {\n        var uut = new FakeController().WithControllerContext();\n        uut.Url.Action(\"\"a\"\", \"\"b\"\").ShouldEqual(\"\"/b/a\"\");\n        uut.ControllerContext.ShouldNotBeNull();\n        uut.HttpContext.ShouldBe(uut.ControllerContext.HttpContext);\n        uut.Request.ShouldNotBeNull();\n        uut.ViewData.ShouldNotBeNull();\n        uut.TempData.ShouldNotBeNull();\n        uut.MyAction(param)\n            .ShouldBeViewResult()\n            .ShouldHaveModel<YouSaidViewModel>()\n            .YouSaid.ShouldBe(param);\n    }\n\n    [Test]\n    public void ShouldBeAbleToUseServicesConfiguredInStartupInTests()\n    {\n      var moreServicesFromDI=TestServerBuilder.RunningServerUsingStartup<TStartup>().Host.ServiceProvider;\n\n      var controllerUnderTest = \n            new AController()\n                .WithControllerContext(virtualPathTemplate:\"\"/{Action}/Before/{Controller}\"\");\n\n        var result= controllerUnderTest\n                .Action(\"\"SomeController\"\",\"\"SomeAction\"\")\n                .ShouldBeViewWithModel<AClass>(\"\"ViewName\"\");\n                    .FooterLink\n                    .ShouldBe(\"\"/SomeAction/Before/SomeController\"\");\n    }\n}\n```\n\n... Or test against complex application dependencies using `HostedMvcTestFixtureBase` and specify your `Startup` class:\n\n```\n[TestFixture]\npublic class WhenTestingControllersUsingAspNetCoreTestTestServer : HostedMvcTestFixtureBase\n{\n\n    [TestCase(\"\"/dummy/action?id={id}\"\")]\n    public async Task Get_Should_ReturnActionResult(string url)\n    {\n        var id=Guid.NewGuid();\n        var httpClient=GivenClientForRunningServer<Startup>();\n        GivenRequestHeaders(httpClient, \"\"CustomHeader\"\", \"\"HeaderValue1\"\");\n            \n        var result= await httpClient.GetAsync(url.Formatz(new {id}));\n\n        result\n            .ShouldBe_200Ok()\n            .Content.ReadAsStringAsync().Result\n            .ShouldBe(\"\"Content\"\");\n    }\n\n    [TestCase(\"\"/dummy\"\")]\n    public async Task Put_Should_ReturnA(string url)\n    {\n        var something= new Fixture().Create<Something>();\n        var jsonBody= new StringContent(something.ToJSon(), Encoding.UTF8, \"\"application/json\"\");\n        var httpClient=GivenClientForRunningServer<Startup>();\n        GivenRequestHeaders(httpClient, \"\"CustomHeader\"\", \"\"HeaderValue1\"\");\n\n        var result = await httpClient.PutAsync(url, jsonBody);\n\n        result.ShouldBe_202Accepted();\n        DummyController.Putted.ShouldEqualByValue( something );\n    }\n}\n```\n\nSee also\n - TestBase\n - TestBase.Mvc for Mvc4 and Mvc 5\n - TestBase.HttpClient.Fake\n - TestBase.AdoNet\n - Serilog.Sinks.ListOfString \n - Extensions.Logging.ListOfString",
  "id": "TestBase.Mvc.AspNetCore",
  "isPrerelease": false,
  "lastEdited": "2018-12-19T08:32:37.383Z",
  "listed": true,
  "packageHash": "gCyjfSnBJHtKghxQu/MJMrbVjtN6D+QuJhFedDqF/aNRNfr5l97ZXJc3ObliyJNj6GdDTqaYv81TmmNPAQN5Bw==",
  "packageHashAlgorithm": "SHA512",
  "packageSize": 31650,
  "projectUrl": "http://github.com/chrisfcarroll/TestBase",
  "published": "2018-05-26T12:01:26.51Z",
  "releaseNotes": "ChangeLog\n---------\n4.1.2.0 TestBase.Mvc.AspNetCore provides WithControllerContext() and TestServerBuilder\n4.0.7.0 Added TestBase.FakeHttpClient. Added Should(predicate,...) as synonym of ShouldHave(predicate,...)\n4.0.6.2 TestBase.Mvc can run controller actions on aspnetcore using controller.WithControllerContext()\n4.0.5.2 TestBase.Mvc partially ported to netstandard20 / AspNetCore\n4.0.4.1 StreamShoulds\n4.0.3.0 StringListLogger as MS Logger and as Serilogger\n4.0.1.0 Port to NetCore\n3.0.3.0 Improves FakeDb setup\n3.0.x.0 adds and/or corrects missing Shoulds()\n2.0.5.0 adds some intellisense and FakeDbConnection.Verify(..., message,args) overload",
  "repository": "",
  "requireLicenseAcceptance": false,
  "title": "TestBase – Rich, fluent assertions and tools for testing with heavyweight dependencies: AspNetCore, AdoNet, HttpClient, AspNet.Mvc, Streams, Logging",
  "verbatimVersion": "4.1.2.2",
  "version": "4.1.2.2",
  "dependencyGroups": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0",
      "@type": "PackageDependencyGroup",
      "dependencies": [
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0/testbase",
          "@type": "PackageDependency",
          "id": "TestBase",
          "range": "[4.1.2.3, )"
        },
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0/microsoft.aspnetcore",
          "@type": "PackageDependency",
          "id": "Microsoft.AspNetCore",
          "range": "[2.0.1, )"
        },
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0/microsoft.aspnetcore.mvc",
          "@type": "PackageDependency",
          "id": "Microsoft.AspNetCore.Mvc",
          "range": "[2.0.2, )"
        },
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0/microsoft.aspnetcore.testhost",
          "@type": "PackageDependency",
          "id": "Microsoft.AspNetCore.TestHost",
          "range": "[2.0.1, )"
        },
        {
          "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#dependencygroup/.netstandard2.0/moq",
          "@type": "PackageDependency",
          "id": "Moq",
          "range": "[4.8.2, )"
        }
      ],
      "targetFramework": ".NETStandard2.0"
    }
  ],
  "packageEntries": [
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#TestBase.Mvc.AspNetCore.nuspec",
      "@type": "PackageEntry",
      "compressedLength": 2224,
      "fullName": "TestBase.Mvc.AspNetCore.nuspec",
      "length": 5939,
      "name": "TestBase.Mvc.AspNetCore.nuspec"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#lib/netstandard2.0/TestBase.Mvc.AspNetCore.dll",
      "@type": "PackageEntry",
      "compressedLength": 16764,
      "fullName": "lib/netstandard2.0/TestBase.Mvc.AspNetCore.dll",
      "length": 37888,
      "name": "TestBase.Mvc.AspNetCore.dll"
    },
    {
      "@id": "https://api.nuget.org/v3/catalog0/data/2018.12.19.08.32.42/testbase.mvc.aspnetcore.4.1.2.2.json#.signature.p7s",
      "@type": "PackageEntry",
      "compressedLength": 9469,
      "fullName": ".signature.p7s",
      "length": 9469,
      "name": ".signature.p7s"
    }
  ],
  "tags": [
    "nunit",
    "test",
    "unittest",
    "tdd",
    "fluent",
    "assertions",
    "mock",
    "mvc",
    "aspnetmvc",
    "aspnetcore",
    "aspnetcoremvc"
  ],
  "@context": {
    "@vocab": "http://schema.nuget.org/schema#",
    "catalog": "http://schema.nuget.org/catalog#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dependencies": {
      "@id": "dependency",
      "@container": "@set"
    },
    "dependencyGroups": {
      "@id": "dependencyGroup",
      "@container": "@set"
    },
    "packageEntries": {
      "@id": "packageEntry",
      "@container": "@set"
    },
    "supportedFrameworks": {
      "@id": "supportedFramework",
      "@container": "@set"
    },
    "tags": {
      "@id": "tag",
      "@container": "@set"
    },
    "published": {
      "@type": "xsd:dateTime"
    },
    "created": {
      "@type": "xsd:dateTime"
    },
    "lastEdited": {
      "@type": "xsd:dateTime"
    },
    "catalog:commitTimeStamp": {
      "@type": "xsd:dateTime"
    }
  }
}